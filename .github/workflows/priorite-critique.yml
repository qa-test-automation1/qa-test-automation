name: "Alerte Priorit√© Critique"



on:

  issues:

    types: [labeled]



jobs:

  gestion-priorite:

    if: github.event.label.name == 'Critical'

    runs-on: ubuntu-latest

    permissions:

      issues: write

    steps:

      - name: Assigner le Lead Dev et commenter

        uses: actions/github-script@v7

        with:

          script: |

            github.rest.issues.addAssignees({

              owner: context.repo.owner,

              repo: context.repo.repo,

              issue_number: context.issue.number,

              assignees: [context.repo.owner] // S'assigne √† toi-m√™me par d√©faut

            });

            

            github.rest.issues.createComment({

              owner: context.repo.owner,

              repo: context.repo.repo,

              issue_number: context.issue.number,

              body: "üö® **Alerte :** Ce ticket a √©t√© marqu√© comme Critique. Assignation automatique effectu√©e."

            });
